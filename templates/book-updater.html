<!-- Importa o Layout base do html -->
{% extends 'layout.html' %}

<!-- Define o titulo dinamico -->
{% block title %} Cadastro de Livros {% endblock %}

<!-- Define o conteudo dinamico -->
{% block content %}

<div class="col-sm-11 col-lg-6 card p-5 my-5">

    <div class="card-title mb-3 text-center"><b>Atualização do Livro - {{livro.titulo}}</b></div>

    <!-- Exibe as mensagens de feedback do backend -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{message}}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="close"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="post" action="{{ url_for('book_management.edit_book',isbn=livro.isbn) }}">
        <div class="form-group mb-3">
            <label for="isbn" class="form-label">ISBN</label>
            <input type="text" class="form-control" id="isbn" name="isbn" value="{{ livro.isbn }}" readonly>
        </div>

        <div class="form-group mb-3">
            <label for="titulo" class="form-label">Título</label>
            <input type="text" class="form-control" id="titulo" name="titulo" value="{{ livro.titulo }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="autor" class="form-label">Autor</label>
            <input type="text" class="form-control" id="autor" name="autor" value="{{ livro.autor }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="editora" class="form-label">Editora</label>
            <input type="text" class="form-control" id="editora" name="editora" value="{{ livro.editora }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="edicao" class="form-label">Edição</label>
            <input type="text" class="form-control" id="edicao" name="edicao" value="{{ livro.edicao }}">
        </div>

        <div class="form-group mb-3">
            <label for="volume" class="form-label">Volume</label>
            <input type="text" class="form-control" id="volume" name="volume" value="{{ livro.volume }}">
        </div>

        <div class="form-group mb-3">
            <label for="genero" class="form-label">Gênero</label>
            <input type="text" class="form-control" id="genero" name="genero" value="{{ livro.genero }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="paginas" class="form-label">Número de Páginas</label>
            <input type="number" class="form-control" id="paginas" name="paginas" value="{{ livro.paginas }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="ano_publicacao" class="form-label">Ano de Publicação</label>
            <input type="number" class="form-control" id="ano_publicacao" name="ano_publicacao" value="{{ livro.ano_publicacao }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="quantidade" class="form-label">Quantidade de Exemplares</label>
            <input type="number" class="form-control" id="quantidade" name="quantidade" value="{{ livro.qtde_exemplares }}">
        </div>

        <button type="submit" class="btn btn-success">Atualizar</button>
    </form>

</div>

{% endblock %}